<form #f='ngForm' (ngSubmit)='onSubmit(category.id, f.value)' *ngIf='category; else loading'>
  <h6>Actualizar categoría</h6>
  <!-- {{ p | json }} -->
  <ng-container *ngIf='!f?.submitted; else submitting'>
    <mat-form-field class='full-width'>
      <input matInput type="text" placeholder='Nombre' [ngModel]='category.name' name='name' required>
    </mat-form-field>
    <mat-form-field class='full-width'>
      <textarea matInput rows='3' placeholder='Descripción' [ngModel]='category.description' name='description' required>
      </textarea>
    </mat-form-field>
    <button mat-button type='submit' [disabled]='f.invalid'>Actualizar</button>
    <button mat-button type='button' (click)='onBack()'>Cancelar</button>
  </ng-container>
  <ng-template #submitting>
    <mat-spinner class='mx-auto'></mat-spinner>
  </ng-template>
</form>
<ng-template #loading>
  <mat-spinner class='mx-auto'></mat-spinner>
</ng-template>